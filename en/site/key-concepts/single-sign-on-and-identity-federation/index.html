



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for WSO2 Identity Server">
      
      
        <link rel="canonical" href="https://wso2.com/key-concepts/single-sign-on-and-identity-federation/">
      
      
        <meta name="author" content="WSO2">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Single Sign-On and Identity Federation - WSO2 Identity Server Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
    
      <script src="../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/lib/highlightjs/default.min.css">
    
      <link rel="stylesheet" href="../../assets/css/theme.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#single-sign-on-and-identity-federation" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!--
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

<header class="md-header" data-md-component="header" id="page-header" data-url="" data-lang="en">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://wso2.com/" title="WSO2 Identity Server Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
               Identity Server Documentation
            </span>
            <span class="md-header-nav__topic">
              Single Sign-On and Identity Federation
            </span>
          
        </div>
        <div class="md-flex__ellipsis md-header__version-select">
            <div class="mb-tabs__dropdown version-select">
                <a class="md-tabs__link md-tabs__dropdown-link" href="#!" data-target="version-select-dropdown">5.8.0</a>
                <ul id="version-select-dropdown" class="mb-tabs__dropdown-content" tabindex="0">
                    <!-- Versions will added here dynamically -->
                    <li class="md-tabs__item mb-tabs__dropdown">
                        <a href="#" id="show-all-versions-link">Show all</a>
                    </li>
                </ul>
            </div>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/wso2/docs-is/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wso2/docs-is
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="./" title="Key Concepts" class="md-tabs__link md-tabs__link--active">
          Key Concepts
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorials/adaptive-authentication-overview/" title="Basic Tutorials" class="md-tabs__link">
          Basic Tutorials
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../references/config-catalog/" title="References" class="md-tabs__link">
          References
        </a>
      
    </li>
  

      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://wso2.com/" title="WSO2 Identity Server Documentation" class="md-nav__button md-logo">
      
        <img src="../../images/logo.svg" width="48" height="48">
      
    </a>
    WSO2 Identity Server Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/wso2/docs-is/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wso2/docs-is
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
    
    <label class="md-nav__link" for="nav-1">
      Key Concepts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Key Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Single Sign-On and Identity Federation
      </label>
    
    <a href="./" title="Single Sign-On and Identity Federation" class="md-nav__link md-nav__link--active">
      Single Sign-On and Identity Federation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducing-single-sign-on" title="Introducing single sign-on" class="md-nav__link">
    Introducing single sign-on
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-single-sign-on-works" title="How single sign-on works" class="md-nav__link">
    How single sign-on works
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sso-in-reality" title="SSO in reality" class="md-nav__link">
    SSO in reality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-protocols-for-sso" title="Supported protocols for SSO" class="md-nav__link">
    Supported protocols for SSO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#saml-20-sso" title="SAML 2.0 SSO" class="md-nav__link">
    SAML 2.0 SSO
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saml-20-web-browser-based-sso-profile" title="SAML 2.0 web browser-based SSO profile" class="md-nav__link">
    SAML 2.0 web browser-based SSO profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity-provider-initiated-sso" title="Identity provider initiated SSO" class="md-nav__link">
    Identity provider initiated SSO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ws-federation" title="WS-Federation" class="md-nav__link">
    WS-Federation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openid-connect" title="OpenID Connect" class="md-nav__link">
    OpenID Connect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ws-trust" title="WS-Trust" class="md-nav__link">
    WS-Trust
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity-federation-and-a-comparison-with-sso" title="Identity federation and a comparison with SSO" class="md-nav__link">
    Identity federation and a comparison with SSO
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../identity-provisioning-and-its-standards/" title="Identity Provisioning and its Standards" class="md-nav__link">
      Identity Provisioning and its Standards
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../access-control-and-entitlement-management/" title="Access Control and Entitlement Management" class="md-nav__link">
      Access Control and Entitlement Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../identity-anti-patterns-and-the-identity-bus/" title="Identity Anti patterns and the Identity Bus" class="md-nav__link">
      Identity Anti patterns and the Identity Bus
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Basic Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Basic Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      Adaptive Authentication
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        Adaptive Authentication
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/adaptive-authentication-overview/" title="Adaptive Authentication Overview" class="md-nav__link">
      Adaptive Authentication Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/configuring-a-service-provider-for-adaptive-authentication/" title="Configuring a Service Provider for Adaptive Authentication" class="md-nav__link">
      Configuring a Service Provider for Adaptive Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1-3" type="checkbox" id="nav-2-1-3">
    
    <label class="md-nav__link" for="nav-2-1-3">
      Adaptive Authentication Scenarios
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-3">
        Adaptive Authentication Scenarios
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/configuring-role-based-adaptive-authentication/" title="Configuring Role-Based Adaptive Authentication" class="md-nav__link">
      Configuring Role-Based Adaptive Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/configuring-user-age-based-adaptive-authentication/" title="Configuring User-Age-Based Adaptive Authentication" class="md-nav__link">
      Configuring User-Age-Based Adaptive Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/configuring-tenant-based-adaptive-authentication/" title="Configuring Tenant-Based Adaptive Authentication" class="md-nav__link">
      Configuring Tenant-Based Adaptive Authentication
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      References
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        References
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/config-catalog/" title="Configuration Catalog" class="md-nav__link">
      Configuration Catalog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/default-ports-of-wso2-products/" title="Default Ports of WSO2 Products" class="md-nav__link">
      Default Ports of WSO2 Products
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/api-permissions/" title="API Permissions" class="md-nav__link">
      API Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/adaptive-authentication-js-api-reference/" title="Adaptive Authentication JS API Reference" class="md-nav__link">
      Adaptive Authentication JS API Reference
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../page-not-found/" title="" class="md-nav__link">
      
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducing-single-sign-on" title="Introducing single sign-on" class="md-nav__link">
    Introducing single sign-on
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-single-sign-on-works" title="How single sign-on works" class="md-nav__link">
    How single sign-on works
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sso-in-reality" title="SSO in reality" class="md-nav__link">
    SSO in reality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-protocols-for-sso" title="Supported protocols for SSO" class="md-nav__link">
    Supported protocols for SSO
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#saml-20-sso" title="SAML 2.0 SSO" class="md-nav__link">
    SAML 2.0 SSO
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#saml-20-web-browser-based-sso-profile" title="SAML 2.0 web browser-based SSO profile" class="md-nav__link">
    SAML 2.0 web browser-based SSO profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity-provider-initiated-sso" title="Identity provider initiated SSO" class="md-nav__link">
    Identity provider initiated SSO
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ws-federation" title="WS-Federation" class="md-nav__link">
    WS-Federation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openid-connect" title="OpenID Connect" class="md-nav__link">
    OpenID Connect
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ws-trust" title="WS-Trust" class="md-nav__link">
    WS-Trust
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity-federation-and-a-comparison-with-sso" title="Identity federation and a comparison with SSO" class="md-nav__link">
    Identity federation and a comparison with SSO
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/wso2/docs-is/edit/master/en/docs/key-concepts/single-sign-on-and-identity-federation.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="single-sign-on-and-identity-federation">Single Sign-On and Identity Federation<a class="headerlink" href="#single-sign-on-and-identity-federation" title="Permanent link">&para;</a></h1>
<h3 id="introducing-single-sign-on">Introducing single sign-on<a class="headerlink" href="#introducing-single-sign-on" title="Permanent link">&para;</a></h3>
<p>Single sign-on (SSO) is one of the key features of the WSO2 Identity
Server that enables users to provide their credentials once and obtain
access to multiple applications. The users are not prompted for their
credentials when accessing each application until their session is
terminated. Additionally, the user can access all these applications
without having to log into each and every one of them individually. So,
if users log into application A, for example, they would automatically
have access to application B as well for the duration of that session
without having to re-enter their credentials.</p>
<p>The following are some of the advantages you can have with SSO:</p>
<ul>
<li>Users need only a single username/password pair to access multiple
    services. Thus they do not have the issue of remembering multiple
    username/password pairs.</li>
<li>Users are authenticated only once at the identity provider and then
    they are automatically logged into all services within that
    "trust-domain". This process is more convenient to users since they
    do not have to provide their username/password at every service
    provider.</li>
<li>Service providers do not have the overhead of managing user
    identities, which is more convenient for them.</li>
<li>User identities are managed at a central point. This is more secure,
    less complex and easily manageable.</li>
</ul>
<hr />
<h3 id="how-single-sign-on-works">How single sign-on works<a class="headerlink" href="#how-single-sign-on-works" title="Permanent link">&para;</a></h3>
<p>To understand how single sign-on works, it is useful to first examine
how authentication works in a non SSO environment. The following diagram
depicts this flow.</p>
<p><img alt="Authentication in a non SSO environment" src="../../assets/img/concepts/authentication-in-non-sso.png" /></p>
<p><em><strong>Figure</strong> : Authentication in a non SSO environment</em></p>
<p>In the above figure, the users access <strong>Application 1</strong> first and then
<strong>Application 2</strong> using the same browser. The user is authenticated in
<strong>Application 1</strong> first and can access this application. When the users
attempt to access <strong>Application 2</strong> , they must enter their credentials
again and get access to <strong>Application 2</strong> separately. There is no way
for <strong>Application 2</strong> to access the cookie stored in the browser for
<strong>Application 1</strong> and authenticate the user by that means.</p>
<p>The following diagram depicts how this story differs in a SSO
environment.</p>
<p><img alt="Authentication in a SSO environment" src="../../assets/img/concepts/authentication-in-sso.png" /></p>
<p><em><strong>Figure</strong> : Authentication in a SSO environment</em></p>
<p>In this second figure, the users access <strong>Application 1</strong> first followed
by <strong>Application 2</strong> . Once again, the users use the same browser to
access these applications. The users are redirected to the WSO2 Identity
Server (or any authentication server that is configured for this task).
If the users are already logged in to the Identity Server, the user is
authenticated in <strong>Application 1</strong> via an authentication token sent by
the Identity Server to <strong>Application 1</strong> . When <strong>Application 2</strong> is
accessed, the same thing happens and the users are redirected to the
Identity Server and authenticated. This is how SSO works.</p>
<hr />
<h3 id="sso-in-reality">SSO in reality<a class="headerlink" href="#sso-in-reality" title="Permanent link">&para;</a></h3>
<p>Single sign-on is widely used in web technologies. Google is one of the
best examples. Try this simple exercise.</p>
<ol>
<li>Visit <a href="http://www.google.com/">www.google.com</a> from your web
    browser.</li>
<li>Click the <strong>SIGN IN</strong> button on the top right of the page.</li>
<li>Once you sign in, you are redirected to
    <a href="https://accounts.google.com/ServiceLogin">https://accounts.google.com/ServiceLogin</a> . There you are requested
    to enter your Username and Password. Enter your Google credentials
    there.</li>
<li>Once you enter your Username and Password, you are directed back to
    <a href="http://www.google.com/">www.google.com</a> where you started.</li>
<li>Next visit <a href="http://www.gmail.com/">www.gmail.com</a> , the Google mail
    server.</li>
<li>Notice that you are automatically signed in and you directly access
    your Gmail Inbox. You did not have to enter your Username and
    Password at Gmail.</li>
<li>In addition to that; now try
    <a href="http://www.youtube.com/">www.youtube.com</a> .</li>
<li>
<p>You are automatically signed in. You do not have to enter your
    username and password at YouTube.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Tip</strong> : Notice the URL of the web browser. Each time you access an
application, you see that you are being redirected to
<a href="https://accounts.google.com/ServiceLogin">https://accounts.google.com/ServiceLogin</a> and return immediately
back to the website.</p>
</div>
</li>
</ol>
<p>Single Sign-On (SSO) allows you to sign in only once but provides access
to multiple resources without having to re-enter your username and
password.</p>
<hr />
<h3 id="supported-protocols-for-sso">Supported protocols for SSO<a class="headerlink" href="#supported-protocols-for-sso" title="Permanent link">&para;</a></h3>
<p>The following are the supported protocols for agent-based single
sign-on.</p>
<ul>
<li>SAML 2.0</li>
<li>WS-Federation</li>
<li>OpenID Connect</li>
<li>WS-Trust</li>
</ul>
<p>The following sections in this topic expand on these protocols and
provide details pertaining to them.</p>
<hr />
<h3 id="saml-20-sso">SAML 2.0 SSO<a class="headerlink" href="#saml-20-sso" title="Permanent link">&para;</a></h3>
<p>SAML stands for Security Assertion Markup Language, which is an
XML-based data format for exchanging authentication and authorization
data between an identity provider and a service provider. The single
most important requirement that SAML addresses is web browser single
sign-on (SSO). Three main roles are defined in SAML Specification.</p>
<ul>
<li><strong>The Principal</strong> : This is typically the user who requires a
    service from a service provider entity.</li>
<li><strong>The Identity Provider</strong> : The SAML authority that provides the
    identity assertion to authenticate a principal.</li>
<li><strong>The Service Provider</strong> : The SAML consumer that provides the
    service for principals.</li>
</ul>
<p>The main use case scenario covered by SAML is the principal (the user)
requesting access to a resource or service from the service provider.
Then the service provider, using SAML, communicates with the identity
provider to obtain identity assertion. The service provider makes the
access control decision, depending on this assertion.</p>
<p>SAML 2.0 is the latest version of SAML, which uses security tokens
containing assertions to pass information about a user between an
identity provider and a service provider.</p>
<p>SAML 2.0 provides five main specifications:</p>
<ul>
<li>Core</li>
<li>Bindings</li>
<li>Profiles</li>
<li>Metadata</li>
<li>Conformances</li>
</ul>
<h4 id="saml-20-web-browser-based-sso-profile">SAML 2.0 web browser-based SSO profile<a class="headerlink" href="#saml-20-web-browser-based-sso-profile" title="Permanent link">&para;</a></h4>
<p>SAML 2.0 Web Browser based SSO profile is defined under the SAML 2.0
Profiles specification.</p>
<p>In a web browser based SSO system, the flow can be started by the user
either by attempting to access a service at the service provider or by
directly accessing the identity provider itself.</p>
<p><strong>If the user accesses a service at a service provider:</strong></p>
<ol>
<li>The service provider determines which identity provider to use (this
    is the case when there are multiple identity providers. SAML
    identity provider discovery profile may be used).</li>
<li>The service provider generates a SAML message and then redirects the
    web browser to the identity provider along with the message.</li>
<li>Identity provider authenticates the user.</li>
<li>The identity provider generates a SAML message and then redirects
    the web browser back to the service provider.</li>
<li>The service provider processes the SAML message and decides to grant
    or deny access to the user.</li>
</ol>
<p>If the user accesses the identity provider directly, then only the steps
3, 4 and 5 are in the flow.</p>
<p>The following diagram depicts this flow.</p>
<p><img alt="SAML 2.0 authentication flow" src="../../assets/img/concepts/saml-authentication-flow.png" /></p>
<p><em><strong>Figure</strong> : SAML 2.0 authentication flow</em></p>
<p>The message MUST contain an element that uniquely identifies the service
provider who created the message. Optionally, the message may contain
elements such as Issuer, NameIDPolicy, etc. More information regarding
the message can be found in <a href="http://www.oasis-open.org/committees/download.php/35711/sstc-saml-core-errata-2.0-wd-06-diff.pdf">SAML Core
Specification</a>
.</p>
<details class="note"><summary>Click here for more information on assertion consumers, the authentication request and response</summary><p><strong>SAML 2.0 SSO assertion consumers</strong></p>
<p>Service providers act as SAML assertion consumers. They have two basic
   functions:</p>
<pre><code>   -   Create messages and redirect users to the identity provider with the
   created message.
</code></pre>
<ul>
<li>Process messages from the identity provider and make decisions based
       on them.</li>
</ul>
<p>The following code is a sketch of a sample service provider servlet in a
   SAML 2.0 web browser-based SSO system.</p>
<p><code>java
   public class Resource extends HttpServlet 
   {             
       private static SamlConsumer consumer = new SamlConsumer();           
       public void doGet(HttpServletRequest request, HttpServletResponse response) 
       { 
               requestMessage = consumer.buildRequestMessage();
               response.sendRedirect(requestMessage);
       }            
       public void doPost(HttpServletRequest request, HttpServletResponse response) 
       { 
               responseMessage = request.getParameter("SAMLResponse").toString();  
               result = consumer.processResponseMessage(responseMessage);
       }
   }</code></p>
<p>When a web user attempts to access the above servlet, its
   <code>doGet()</code> method is called. Inside the
   <code>doGet()</code> method, it generates an message and
   then redirects the user to the identity provider.</p>
<p>After authentication is completed by the identity provider, it does a
   <code>POST</code> callback to the above servlet with a
   message. Then the <code>doPost()</code> method of the
   servlet gets called and inside the <code>doPost()</code>
   method, it retrieves the message from the request and then the message
   is passed to the <code>SamlConsumer</code> instance for
   processing.</p>
<p>** &lt;AuthnRequest&gt; message**</p>
<p>To create an <code>&lt;AuthnRequest&gt;</code> message using the
   OpenSAML library, do the following.</p>
<ol>
<li>Add the OpenSAML library to the build path of the project. You can
       download the OpenSAML .jar file from
       <a href="http://code.google.com/p/saml2-consumer-module/downloads/detail?         name=opensaml2-2.0.0.alpha1-wso2v1.jar">here</a>
.</li>
<li>A sample <code>&lt;AuthnRequest&gt;</code> message can be
       found <a href="http://wso2.org/files/AuthRequest.xml">here</a> .</li>
<li>
<p>According to SAML 2.0 specifications, the message must contain an
       element. Create the <code>Issuer</code> element
       first.</p>
<p><code>java
       String issuerId = "saml2.sso.demo";
       IssuerBuilder issuerBuilder = new IssuerBuilder();
       Issuer issuer = issuerBuilder.buildObject("urn:oasis:names:tc:SAML:          2.0:assertion", "Issuer", "samlp");
       issuer.setValue(issuerId);</code></p>
</li>
<li>
<p>Create the <code>&lt;AuthnRequest&gt;</code> next.</p>
<p><code>java
       // the issuerUrl is the url of the service provider who generates the       message
       String issuerUrl = "http://localhost:8080/saml2.sso.demo/consumer";
       DateTime issueInstant = new DateTime();
       AuthnRequestBuilder authnRequestBuilder = new AuthnRequestBuilder();
       AuthnRequest authnRequest =           authnRequestBuilder.buildObject("urn:oasis:names:tc:SAML:2.0:protocol", "AuthnRequest", "samlp");
       authnRequest.setForceAuthn(false);
       authnRequest.setIsPassive(false);
       authnRequest.setIssueInstant(issueInstant);
       authnRequest.setProtocolBinding("urn:oasis:names:tc:SAML:    2.0:bindings:HTTP-POST");
       authnRequest.setAssertionConsumerServiceURL(issuerUrl);
       authnRequest.setIssuer(issuer);
       authnRequest.setID(aRandomId);
       authnRequest.setVersion(SAMLVersion.VERSION_20);</code></p>
<p>The message may contain many other elements like "," etc. those
   elements can be created and added to the message in the same way.</p>
</li>
<li>
<p>Next encode the message.</p>
<p>``` java
       Marshaller marshaller =  Configuration.getMarshallerFactory().getMarshaller(authnRequest);
       Element authDOM = marshaller.marshall(authnRequest);</p>
<pre><code>   StringWriter rspWrt = new StringWriter();
   XMLHelper.writeNode(authDOM, rspWrt);
   String requestMessage = rspWrt.toString();
     
   Deflater deflater = new Deflater(Deflater.DEFLATED, true);
   ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
   DeflaterOutputStream deflaterOutputStream = new DeflaterOutputStream(byteArrayOutputStream, deflater);
   deflaterOutputStream.write(requestMessage.getBytes());
   deflaterOutputStream.close();
</code></pre>
<p>/* Encoding the compressed message */
       String encodedRequestMessage = Base64.encodeBytes(byteArrayOutputStream.toByteArray(), Base64.DONT_BREAK_LINES);
       String encodedAuthnRequest = URLEncoder.encode(encodedRequestMessage,"UTF-8").trim();
   ```</p>
</li>
<li>
<p>Construct the redirection URL.</p>
<p><code>java
       redirectionUrl = identitypProviderUrl+ "?SAMLRequest=" + encodedRequestMessage;</code></p>
</li>
<li>
<p>Redirect the user to the identity provider.</p>
<p><code>java
       response.sendRedirect(redirectionUrl);</code></p>
</li>
</ol>
<p>** &lt;Response&gt; message**</p>
<p>The Identity provider must use HTTP POST or artifact binding to transfer
   the <code>&lt;SAMLResponse&gt;</code> message to the service
   provider. To read the <code>&lt;Response&gt;</code> message
   issued by the WSO2 Identity Server, do the following:</p>
<ol>
<li>A sample &lt; <code>Response</code> &gt; message can
       be found <a href="http://wso2.org/files/Response.xml">here</a> .</li>
<li>
<p>The response message must be fetched from the request.</p>
<p><code>java
       responseMessage = request.getParameter("SAMLResponse").toString();</code></p>
</li>
<li>
<p>The fetched <code>responseMessage</code> is
       unmarshaled and the SAML message is retrieved.</p>
<p><code>java
       DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();
       documentBuilderFactory.setNamespaceAware(true);
       DocumentBuilder docBuilder = documentBuilderFactory.newDocumentBuilder();
 
       byte[] base64DecodedResponse = Base64.decode(responseMessage);
       ByteArrayInputStream is = new ByteArrayInputStream(base64DecodedResponse);
       Document document = docBuilder.parse(is);
       Element element = document.getDocumentElement();
       UnmarshallerFactory unmarshallerFactory = Configuration.getUnmarshallerFactory();
       Unmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(element);
       Response response = (Response) unmarshaller.unmarshall(element);</code></p>
</li>
<li>
<p>The retrieved SAML 2.0 response message can be easily processed. For
       example, let's take the username or the subject's
       <code>NameID</code> .</p>
<p><code>java
       String subject =        response.getAssertions().get(0).getSubject() .getNameID().getValue();</code></p>
</li>
<li>
<p>Alternatively, if the response is signed by the identity
       provider, you can retrieve the certificate.</p>
<p><code>java
   String certificate =     response.getSignature().getKeyInfo().getX509Datas().get(0).getX509Certificates().get(0).getValue();</code></p>
</li>
</ol>
</details>
<h4 id="identity-provider-initiated-sso">Identity provider initiated SSO<a class="headerlink" href="#identity-provider-initiated-sso" title="Permanent link">&para;</a></h4>
<p>To initiate IdP Initiated SSO you need to perform a HTTP GET/POST to the
following URL (assume the registered service provider issuer ID is
<a href="http://foo.com">foo.com</a> ). The SAML protocol message can be encoded
using Base64 encoding.</p>
<p><a href="https://localhost:9443/samlsso?spEntityID=foo.com">https://localhost:9443/samlsso?spEntityID=foo.com</a></p>
<p>This request will authenticate and redirect the user to the registered
Assertion Consumer URL. Optionally, you can send in a
<code>RelayState</code> parameter as follows:</p>
<p><a href="https://localhost:9443/samlsso?spEntityID=foo.com&amp;RelayState=http://localhost:8080/foo.com/my-home.jsp">https://localhost:9443/samlsso?spEntityID=foo.com&amp;RelayState=http://localhost:8080/foo.com/my-home.jsp</a></p>
<p>The <code>RelayState</code> parameter must be URL encoded. This
request will authenticate and redirect the user to the URL in the
RelayState parameter itself.</p>
<p>Either you could have service provider initiated SSO only, or service
provider initiated SSO and identity provider initiated SSO. You cannot
have only identity provider initiated SSO. By design, service provider
initiated SSO is more restrictive and secure. If a service provider is
allowed to do identity provider initiated SSO, it would automatically
imply that this service provider is allowed to do service provider
initiated SSO as well.</p>
<p><strong>Recommended reading</strong></p>
<p>See <a href="https://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf">SAML 2.0 specification
documentation</a>
for more information.</p>
<hr />
<h3 id="ws-federation">WS-Federation<a class="headerlink" href="#ws-federation" title="Permanent link">&para;</a></h3>
<p>WS-Federation (Web Services Federation) describes the management and
brokering of trust relationships and security token exchange across Web
services and organizational boundaries. WS-Federation is a part of the
larger WS-Security framework. For example, WS-Federation builds on the
Security Token Service (STS) by providing mechanisms that facilitate
interactions. In the WS-Federation Model, an Identity Provider is a
Security Token Service (STS).</p>
<p><strong>Recommended reading</strong></p>
<p>See <a href="http://docs.oasis-open.org/wsfed/federation/v1.2/ws-federation.html">WS-Federation specification
documentation</a>
for more information.</p>
<hr />
<h3 id="openid-connect">OpenID Connect<a class="headerlink" href="#openid-connect" title="Permanent link">&para;</a></h3>
<p>OpenID Connect is a simple identity layer on top of the OAuth 2.0
protocol. It allows Clients to verify the identity of the End-User based
on the authentication performed by an Authorization Server, as well as
to obtain basic profile information about the End-User in an
interoperable and REST-like manner.</p>
<p>OpenID Connect allows clients of all types, including Web-based, mobile,
and JavaScript clients, to request and receive information about
authenticated sessions and end-users. The specification suite is
extensible, allowing participants to use optional features such as
encryption of identity data, discovery of OpenID Providers, and session
management, when it makes sense for them.</p>
<p><strong>Recommended reading</strong></p>
<p>See <a href="http://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect specification
documentation</a> for
more information.</p>
<hr />
<h3 id="ws-trust">WS-Trust<a class="headerlink" href="#ws-trust" title="Permanent link">&para;</a></h3>
<p>The "Security Token Service" (STS) component of WSO2 Identity Server
enables you to configure the generic STS to issue claim-based security
tokens. A claim-based security token is a common way for applications to
acquire and authenticate the identity information they need about users
inside their organization, in other organizations, and on the
Internet. This Security Token Service is capable of issuing SAML 1.1 and
SAML 2.0 tokens as recommended in WS-Trust and SAML Web Service Token
Profile specifications.</p>
<p>The WSDL of this service can be accessed by clicking this URL:
<code>https://(hostname):(port)/services/wso2carbon-sts?wsdl</code>
. For instance, with the default configuration, the URL is
<code>https://localhost:9443/services/wso2carbon-sts?wsdl</code>
.</p>
<p>Both SAML 1.1 and SAML 2.0 token types are supported by default. The
issued token type is decided based on the type of token defined in the
RST (Request Security Token). Currently, the Bearer Subject Confirmation
and Holder-Of-Key subject confirmation methods are both supported. With
Holder-Of-Key, both Symmetric and Asymmetric key types are
supported. You can obtain tokens containing claims that hold certain
information about the subject. These claims can be extracted from the
profiles or through custom claim callbacks which can be registered to
the Carbon runtime.</p>
<p><strong>Related Topics</strong></p>
<ul>
<li>See <a href="http://docs.oasis-open.org/ws-sx/ws-trust/v1.4/ws-trust.html">WS-Trust specification
    documentation</a>
    for more information.</li>
<li>See <a href="https://docs.wso2.com/display/IS570/Configuring+WS-Trust+Security+Token+Service">Configuring WS-Trust Security Token
    Service</a>
    to configure WS-Trust in WSO2 Identity Server.</li>
</ul>
<hr />
<h3 id="identity-federation-and-a-comparison-with-sso">Identity federation and a comparison with SSO<a class="headerlink" href="#identity-federation-and-a-comparison-with-sso" title="Permanent link">&para;</a></h3>
<p>Identity and access management requirements are rapidly evolving over
the years. Organizations cannot survive with authentication and
authorization mechanisms that only span a single boundary of trust.
Hence, these organizations often provide and consume services across
trust boundaries, which may include partners, subsidiaries, customers or
suppliers and may span across multiple buildings, cities, states,
countries and even continents. Identity federation and Single Sign On
(SSO) come into the picture to provide and consume these services across
trust boundaries.</p>
<p>Identity federation and SSO have similarities as well as key
differences. Identity federation enables users to access multiple
applications using the same access credentials. This makes access easy,
as users do not have to remember a different set of credentials for
every application they use. However, the users have to provide their
credentials to each one of the applications separately although the
credentials used are the same. On the other hand, SSO enables users to
provide their credentials once and obtain access to multiple
applications. In SSO, the users are not prompted for their credentials
when accessing each application until their session is terminated.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="../identity-provisioning-and-its-standards/" title="Identity Provisioning and its Standards" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Identity Provisioning and its Standards
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            WSO2 Identity Server - Documentation
          </div>
        
        &copy;2019 <a href="https://wso2.com/">WSO2</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/wso2" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/wso2" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/wso2" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.9e1f3b71.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../assets/lib/highlightjs/highlight.min.js"></script>
      
        <script src="../../assets/js/theme.js"></script>
      
    
    
      
    
  </body>
</html>